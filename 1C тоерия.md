
# Oglavlenie
1. [Начало работы с 1С](#1)
	+  [Что такое плаформа и шаблон конфигураций 1С?](#1-2)
	+ [Как копировать, переместить и удалить информационную базу.](#1-3)
	+ [Настройка списка информационных баз.
](#1-4)
	+ [Основы работы в конфигураторе.](#1-5)
	+ [Выгрузка (Загрузка) информационной базы, Сохранение (Загрузка) конфигурации.](#1-6)
	+ [Из чего стостоит программный код:](#1-7)
	+ [Что такое синтаксис ?
](#1-8)
	+ [Что такое переменная?](#1-9)

2. [Как проверять модуль на синтаксис.](#2)
3. [Как проверять модуль на синтаксис.](#3)
4. [Типы данных](#4)
	+ [Явное Преобразование типов](#4-1)
 	+ [Неявное Преобразование типов](#4-2)
	+ [ТипичнаяОшибка](#4-3)
5. [Условный оператор](#5)
	+ [Деление на ноль](#5-1)
	+ [Сравнение дат](#5-2)
	+ [Название Дня по номеру
](#5-3)
	+ [Разница чисел по модулю](#5-4)
	+ [Сравнение чисел](#5-5)
	+ [Сравнение строк
](#5-6)
	+ [Сравнение разнотипных значений](#5-7)
	+ [Логическое НЕ(Деление на ноль)](#5-8)
	+ [Логическая операция И/ИЛИ](#5-9)
6. [Циклы](#6)
	+ [Цикл по условию. Сообщить даты интервала](#6-1)
	+ [Цикл по счетчику. Сумма чисел от 1 до 100](#6-2)
	+ [Цикл по коллекции. Пример обхода массива
](#6-3)
	+ [Оператор Продолжить](#6-4)
	+ [Оператор Прервать](#6-5)
	+ [Вложенность](#6-6)
	+ [Сумма чисел через цикл по условию
](#6-7)
	+ [Вложенный цикл
](#6-8)
	+ [Сортировка массива и вывод в одну строку.
](#6-9)
7. [Функции](#7)
	+ [Встроенные функции для работы с числами](#7-1)
	+ [Встроенные функции для работы с датами](#7-2)
	+ [Встроенные функции для работы со строками](#7-3)

8. [Коллекции](#8) 
	+ [Массив](#8-1)
	+ [Структура](#8-2)
	+ [Работа с соответствием](#8-3)
	+ [Работа со списком значением.](#8-4)
	+ [Работа с таблицей значений.](#8-5)
	+ [Дерево Значений.](#8-6)
	+ [Реккурсия.](#8-7)

# 1
# Установка 1С 

+ Скачать последнюю версию платформы с `online.1C.ru` и установить её.
+ Скачать бесплатную комьюнити версию с develper.1q.ru (Дистрибутив платформы).

## 1-2 
# Что такое плаформа и шаблон конфигураций 1С?


[Оглавление](#Oglavlenie)

+ На плаформе создаются программы 1С. 
+ Конфиграция - это с чем работает пользователь после разработок и доработок, так же есть шаблоны конфигураций такие, как `Бухгатерия`, `Торговля`.
# Как устанвоить шаблон?

+ Скачиваем шаблон --> устанавливаем его (желательно не на диск С).
+ Нажимаем добавить при запуске 1С и доавляем шаблон который хотим.
+ Так же можно добавить без шаблона, а с нуля по томуже принципу, но выбираем пустую базу.
# 1-3
[Оглавление](#Oglavlenie)
# Как копировать, переместить и удалить информационную базу.

1. Нажимаем на информационную базу смотрим внизу где она находится
2. Все файлы котрые находятся по указанному пути переместить в нужную папку.
3. Теперь делаем другой путь к базе 1С: Нажимаем на бузу --> Нажимаем `изменить` и где указан путь к базе указываем верный путь. (Если этого не сделать при запуске базы удет возникать ошибка - информацтионная база не обнаружена).
# 1-4
# Настройка списка информационных баз.
[Оглавление](#Oglavlenie)

1. Кнопка настроить
2. Отображать в виде дерева --> возможность создавать папки.
3. Кнопка добавить(как добавить базу) появляется выбор создание новой группы.
4. Перетаскиваем базы в папку.

# Путь к каталогу шаблонов.

1. Настройка кнопка;
2. Каталоги шаблонов и конфигураций и обновлений `'+'`.

# Режим работы с информационной базой.

1. 1C предприятие --> для пользователей.
2. Конфигуратор --> для разработчиков.

# 1-5
[Оглавление](#Oglavlenie)
# Основы работы в конфигураторе.

1. Ctrl + F5 -->  Запустить сеанс в режиме 1С: Предприятие.
2. F7 --> Обновить конфигурацию базы данных.

# Конфигурация базы данных конфиграция поставщика.

+ `(Конфигурация базы данных)` Конфигурация  --> Конфигруация базы данных --> Открыть конфигурацию базы данных.
+ `(Конфигурация поставщика)` Конфигурация  --> Поддержка --> Настройки поддеркжи --> Открыть.

# 1-6
#  Выгрузка (Загрузка) информационной базы, Сохранение (Загрузка) конфигурации.
[Оглавление](#Oglavlenie)
+ `(Файл.dt)` --- `(В нем есть данные + пользователи)`.kl
1. Выгрузить информационную базу ----- Администрирование --> Выгрузить информационную базу.

2.  Загрузить информационную базу ----- Администрирование --> Загрузить информационную базу.

+ `(Файл.cf)` --- `(В нем нету данных).`
1. Конфигруация --> сохранить конфигруацию в файл.
2. Конфигруация --> загрузить конфигруацию из файл.

# 1-7
# Из чего стостоит программный код: 
[Оглавление](#Oglavlenie)
`Оператор` - наименьшая автономная часть языка программирования.

Программный код состоит из операторов.

Разделитель операторов - `;`
# 1-8
# Что такое синтаксис ?
[Оглавление](#Oglavlenie)

`Синтаксис` - правила описания конструкций(операторов, функций и.т.д) во встроенном языке программирования.

+ `F1` --> Справка 
+ `Ctrl + Shift + F1` --> отктрыть синтаксис помощника.
+ `Ctrl + F1` --> в программном коде ищем с помощью синтаксиса помощника.
# 1-9
# Что такое переменная?
[Оглавление](#Oglavlenie)

+ `Перемменная` - именованный котейнер для хранения данных.

+ Как првильно именовывать переменные : 

1. Должно начинаться с буквы либо с символа `'_'`.
2. Не должносодержать пробелов или специальных символов.

Правильно: `ВалютаУчета`, `Подразделения`, `ФизическоеЛицо`.

+ Способы объявления переменных.

`Как описать переменную в модуле`: 

1. Варинат 1(явный способ)
```
Перем ИмяПеременной;
Пример
Перем КодВалюты;
```
2. Вариант 2 (неявный способ)
```
ИмяПеременной = Значение ;
Пример 
КодВалюты = 933 ;
```

# 2
# Как проверять модуль на синтаксис.

[Оглавление](#Oglavlenie)

+ Если есть ошибка в модуле, то при сохранении этого модуля будет выдваться ошибка(в какой строке и где именно эта ошибка находится)

+ Ctrl + F7 --> Проверить текщий модуль на синтаксис.
# 3
# Комментарии в модуле
[Оглавление](#Oglavlenie)

Обозначается --> `//`

Выделяем текст котрый нудно закоментировать

Нажимаем --> `Текст` --> `Блок` --> `Добавить комментарий` (Crtl + num(/) на некторых ноутах это процент)
# 4
# Типы данных
[Оглавление](#Oglavlenie)

`Тип` - это множество значений и операций над этими зачениями.

+ Типизация в 1С неявная - тип переменной определяется значением, которое ей присовено.

Примитивные типы данных ; 
+ `Число` -->
 ```
 Простое число = 15; 
 ```
+ `Строка` --> 
```
ПростаяCтрока = "Hello World";
МногострочнаяСтрока = "Первая строка
                        |Вторая Строка";
Сообщить(ПростаяСтрока)

Предложение = ПервоеСлово + ", " + ВтороеСлово + "!"; // Кокатенация

НазваниеОрганизации = "ООО ""Рога и Копыта""";
```
+ `Дата` --> 
```
ТекДата = '20210909'; //ГГГГ ММ ДД ЧЧ ММ СС --> формат
Сообщить (ТекДата);

ДатаПлюсСекнуда = ТекДата + 1;
Сообщить (ДатаПлюсСекнуда);
```

```
ТекДата = '20210909'; //ГГГГ ММ ДД ЧЧ ММ СС --> формат
ЗавтрашнийДень = ТекДата + 60 *60*24;
ВчерашнийДень = ТекДата - 86400;


НачалоМесяца = '20210901';
ТретьеСентября = '20210903';
РазницаВСекундах = ТретьеСентября - НачалоМесяца;

Сообщить(ЗавтрашнийДень);
Сообщить(ВчерашнийДень); 
Сообщить("Разница дат состовляет " + РазницаВСекундах/86400 + " дней")
```
+ `Булево` -->
``` СегодняРабочийДень = Истина;
СегодняВыходной = Ложь;

ОбратноеЗначение = НЕ СегодняВыходной;
``` 
+ `Неопределено` и `NULL` -->
```
ПустоеЗначениеНеизвестногоТипаВоВстроенномЯзыке = Неопределено;
```

```
ПустоеЗначениеНеизвестногоТипаВоВстроенномЯзыке = NULL;
```

+ `Тип` --> 

```
Число1 = 25;
Адрес = "Ленина 61";

ТипПеременной1 = ТипЗнч(Число1);
ТипПеременной2 = ТипЗнч(Адрес);

Сообщить(ТипПеременной1);
Сообщить(ТипПеременной2);
```
# 4-1
[Оглавление](#Oglavlenie)
+ ` Явное Преобразование типов` --> 


```
// Число ->  Строка
Сумма = 25;
СуммаСтрокой = Строка(Сумма);
Сообщить(СуммаСтрокой);
Сообщить(Сумма);

// Строка -> Число
СуммаВФайле = "125.73"; // тип 'Строка'
Сообщить(СуммаВФайле);

СуммаЧислом = Число(СуммаВФайле); // тип 'Число'
Сообщить(СуммаЧислом);

// Строка -> Дата
// Только строку вида ГГГГММДД

ДатаЗаказа = "20230907";
Результат = Дата(ДатаЗаказа);
Результат = Результат + 86399;
Сообщить(Результат);
```
# 4-2
[Оглавление](#Oglavlenie)
+ `Неявное Преобразование типов` --> 
```
Переменная1 = 2; // Число
Переменная2 = "2" // Строка
Буква = "а";

// Число + Строка
Результат = Переменная1 + Переменная2;
Сообщить(Результат); //4

// Строка + Число
Результат = Переменнпя2 + Переенная1;
Сообщить(Результат); //22

// Дата + Число
Резултат = Дата + Переменная1;
Сообщить(Результат); // Добавляется 2 секунды

// Дата + Строка
Результат = Дата + Перменная2;
Сообщить(Результат); // Добаляется секунды (Только цифры)
```

+ `ТипичнаяОшибка`
# 4-3
[Оглавление](#Oglavlenie)
```
ДатаРождения = `20000105`;
ФИО = "Петров Максим Иванович";
Оклад = "50000";

Текст = Строка(ДатаРождения) + "," + ФИО + "," + "Оклад"; 

// В начале обязательно указваем Преобразование Строка(), либо добовляем пустую строку в начале "" + ... Иначе будет ошибка.
```
# 5
[Оглавление](#Oglavlenie)
# Условный оператор


## Делени на ноль
# 5-1
[Оглавление](#Oglavlenie)
```
Количество = 0;
Сумма = 100;
Если Количество <> 0 Тогда
	Цена = Сумма / Количество;
	Сообщить(Цена);
Иначе
	Сообщить("Деление на 0");	
КонецЕсли;

Если Количество = 0 Тогда
	Сообщить("Деление на 0");
Иначе
	Цена = Сумма / Количество;
	Сообщить(Цена);
КонецЕсли;	
	
```

## Сравнение дат
# 5-2
[Оглавление](#Oglavlenie)
```
Дата1 = '20230911120000';
Дата2 = '20230911120001';

Если Дата1 = Дата2 Тогда
	Сообщить("Даты равны");
Иначе
	Сообщить("Даты не равны");
КонецЕсли;
	
Если Дата1 >= Дата2 Тогда
	Сообщить("Дата 1 больше даты 2");
Иначе
	Сообщить("Дата 2 больше даты 1");
КонецЕсли;
```
## Название Дня по номеру
# 5-3
[Оглавление](#Oglavlenie)
```
НомерДня = 3;
НазваниеДня = "";
Если НомерДня = 1 Тогда
	НазваниеДня = "понедельник";
ИначеЕсли НомерДня = 2 Тогда
	НазваниеДня = "вторник";
ИначеЕсли НомерДня = 3 Тогда
	НазваниеДня = "среда";
ИначеЕсли НомерДня = 4 Тогда
	НазваниеДня = "четверг";
ИначеЕсли НомерДня = 5 Тогда
	НазваниеДня = "пятница";
ИначеЕсли НомерДня = 6 Тогда
	НазваниеДня = "суббота";
ИначеЕсли НомерДня = 7 Тогда
	НазваниеДня = "воскресенье";	
Иначе
	Сообщить("Некорретный номер дня!");
КонецЕсли;

Сообщить(НазваниеДня);
```

# 5-4
[Оглавление](#Oglavlenie)
## Разница чисел по модулю
```
Число1 = 18;
Число2 = 15;

Если Число1 > Число2 Тогда
	Разница = Число1 - Число2;
Иначе
	Разница = Число2 - Число1;
КонецЕсли;

Сообщить(Разница);
```

# 5-5
[Оглавление](#Oglavlenie)
## Сравнение чисел
```
Число1 = 85;
Число2 = 85;

Если Число1 <> Число2 Тогда
	Сообщить("Число 1 больше Числа 2");
Иначе
	Сообщить("Число 2 больше Числа 1");
КонецЕсли;	
```
# 5-6
[Оглавление](#Oglavlenie)
## Сравнение строк
```
Строка1 = "дом";
Строка2 = "мора";

Если Строка1 = Строка2 Тогда
	Сообщить("Строки равны");
Иначе
	Сообщить("Строки не равны");
КонецЕсли;
	
Если Строка1 <> Строка2 Тогда
	Сообщить("Строка 1 больше строки 2");
Иначе
	Сообщить("Строка 2 больше строки 1");
КонецЕсли;

СтрокаЦифр1 = "123";
СтрокаЦифр2 = "45";
Если СтрокаЦифр1 > СтрокаЦифр2 Тогда
	Сообщить("Строка 1 больше строки 2");
Иначе
	Сообщить("Строка 1 меньше или равна строке 2");
КонецЕсли;
```
# 5-7
[Оглавление](#Oglavlenie)
## Сравнение разнотипных значений
```
Строка1 = "дом";
Число1 = 56;

Если Строка1 <> Число1 Тогда
	Сообщить("Строка больше числа");
Иначе
	Сообщить("Строка меньше или равна числа");
КонецЕсли;
```

# 5-8
[Оглавление](#Oglavlenie)
## Логическое НЕ(Деление на ноль)
```
Количество = 0;
Сумма = 100;
Если НЕ Количество = 0 Тогда
	Цена = Сумма / Количество;
	Сообщить(Цена);
Иначе
	Сообщить("Деление на 0");	
КонецЕсли;
```

## Пример (*). Логическое НЕ

```
Ссылка = Справочники.Товары.НайтиПоКоду("000000004");
Если НЕ Ссылка.Пустая() Тогда
	Сообщить(Ссылка.Наименование);
Иначе
	Сообщить("Не удалось найти товар");
КонецЕсли;

```

## Логическая операция И/ИЛИ
# 5-9
[Оглавление](#Oglavlenie)
```
Женат = Ложь;
Возраст = 45;
Стаж = 4;
Зарплата = 50000;

// если женат, возраст до 40 или зарплата > 40 000
Если Женат ИЛИ (Возраст < 40 И Зарплата > 45000) Тогда
	Сообщить("Одобрен");
Иначе
	Сообщить("Не одобрен");
КонецЕсли;
```

# Циклы 
# 6
[Оглавление](#Oglavlenie)

## Вывод сообщений несколько раз
```
Счетчик = 1;

Пока Счетчик <= 5 Цикл
	Сообщить("привет!");
	Счетчик = Счетчик + 1;
КонецЦикла;
```
## 6-1
## Цикл по условию. Сообщить даты интервала
[Оглавление](#Oglavlenie)
```
НачалоПериода = '20230901';
КонецПериода = '20230930';

ТекДата = НачалоПериода;
Пока ТекДата <= КонецПериода Цикл
	Сообщить(ТекДата);
	ТекДата = ТекДата + 86400;
КонецЦикла;
```
## 6-2
## Цикл по счетчику. Сумма чисел от 1 до 100
[Оглавление](#Oglavlenie)

```
СуммаЧисел = 0;
ПоследнееЧисло = 100;
НачальноеЧисло = 1;

// цикл по счетчику
Для ТекЧисло = НачальноеЧисло По ПоследнееЧисло Цикл
	СуммаЧисел = СуммаЧисел + ТекЧисло;
КонецЦикла;

Сообщить(СуммаЧисел);

// цикл по условию
Сумма = 0;
ТекЧисло = 1;
Пока ТекЧисло <= 100 Цикл
	Сумма = Сумма + ТекЧисло;
	ТекЧисло = ТекЧисло + 1;
КонецЦикла;
Сообщить(Сумма);

// цикл по датам через цикл по счетчику
НачалоПериода = '20230901';
КонецПериода = '20230930';
КоличествоДней = (КонецПериода - НачалоПериода) / 86400 + 1;

ТекДата = НачалоПериода;
Для Счетчик = 1 По КоличествоДней Цикл
	Сообщить(ТекДата);
	ТекДата = НачалоПериода + Счетчик*86400;
КонецЦикла;
```
## 6-3
## Цикл по коллекции. Пример обхода массива
[Оглавление](#Oglavlenie)
```
МассивЧисел = Новый Массив;
МассивЧисел.Добавить(3);
МассивЧисел.Добавить(4);
МассивЧисел.Добавить(5);
МассивЧисел.Добавить(7);

СуммаЧисел = 0;
Для каждого ТекущееЧисло Из МассивЧисел Цикл
	СуммаЧисел = СуммаЧисел + ТекущееЧисло;	
КонецЦикла;
Сообщить(СуммаЧисел);
```

## 6-4
## Оператор Продолжить
[Оглавление](#Oglavlenie)
```
СуммаЧисел = 0;
Для ТекущееЧисло = 1 По 100 Цикл
	
	Если ТекущееЧисло % 2 = 0 Тогда
		Продолжить;
	КонецЕсли;

	СуммаЧисел = СуммаЧисел + ТекущееЧисло;
	
КонецЦикла;

Сообщить(СуммаЧисел);
```

## 6-5
## Оператор Прервать
[Оглавление](#Oglavlenie)
```
СуммаВклада = 1000;
Процент = 10;
ЦелеваяСумма = 3000;
КоличествоЛет = 0;
Для Год = 1 По 50 Цикл
	
	СуммаПроцентов = СуммаВклада * Процент / 100;
	СуммаВклада = СуммаВклада + СуммаПроцентов;
	Если СуммаВклада >= ЦелеваяСумма Тогда
		Прервать;
	Иначе
		КоличествоЛет = КоличествоЛет + 1;	
	КонецЕсли;
		
КонецЦикла;

Сообщить("Целевая сумма будет достигнута через " + КоличествоЛет + " лет");
```

## 6-6
## Вложенность
[Оглавление](#Oglavlenie)
```
Сумма1 = 5;
Сумма2 = 6;
Сумма3 = 7;

Если Сумма1 > 3 Тогда
	Если Сумма2 > 7 Тогда
		Если Сумма3 >= 6 Тогда
		КонецЕсли;
	КонецЕсли;
КонецЕсли;
```
# 6-7
[Оглавление](#Oglavlenie)
## Сумма чисел через цикл по условию
```
СуммаЧисел = 0;
ТекЧисло = 1;
Пока ТекЧисло <= 100 Цикл
	СуммаЧисел = СуммаЧисел + ТекЧисло;
КонецЦикла;
```
# 6-8
[Оглавление](#Oglavlenie)
## Вложенный цикл
```
Для каждого Число = 1 По 9 Цикл

	Для каждого Множитель = 1 По 9 Цикл;
		
		Произведение = Число * Множитель;
		
	КонецЦикла;
	
КонецЦикла;
```
# 6-9 
# Сортировка массива и вывод в одну строку.
[Оглавление](#Oglavlenie)
+ Пузырьковый метод
```
Массив = Новый Массив;
Массив.Добавить(7);
Массив.Добавить(2);
Массив.Добавить(5);
Массив.Добавить(4);
Массив.Добавить(3);
Массив.Добавить(1);
Массив.Добавить(8);
Массив.Добавить(6);
Массив.Добавить(9);
Массив.Добавить(10);


Для i = 0 По Массив.ВГраница() Цикл
        Для j = 0 ПО Массив.Вграница() - i - 1 Цикл
            Если Массив[j] > Массив[j + 1] Тогда
                Замена = Массив[j];
                Массив[j] = Массив[j + 1];
                Массив[j + 1] = Замена;
            КонецЕсли;            
        КонецЦикла;        
	КонецЦикла;
	
		
Разделитель = ",";
ВыходнаяСтрока = СтрСоединить(Массив,Разделитель);
Сообщить(ВыходнаяСтрока);
```

+ Сортировка с помощью списка (Легкая)
```
// Сортировка массива
МассивЧисел = Новый Массив;
МассивЧисел.Добавить(71);
МассивЧисел.Добавить(14);
МассивЧисел.Добавить(5);
МассивЧисел.Добавить(82);
МассивЧисел.Добавить(99);

Для каждого Число из МассивЧисел Цикл
	//Сообщить(Число);
КонецЦикла;
//Сообщить("---------------------");

СписокЧисел = Новый СписокЗначений();
СписокЧисел.ЗагрузитьЗначения(МассивЧисел);
СписокЧисел.СортироватьПоЗначению(); или можно СписокЧисел.СортироватьПоЗначению(НаправлениеСортировки.Убыв);

```

# 7 
# Функции

## 7-1
## Встроенные функции для работы с числами
[Оглавление](#Oglavlenie)
```
// получить целую часть числа
Сумма = 125.25;
Рубли = Цел(Сумма);
Копейки = (Сумма - Рубли) * 100;
//Сообщить(Строка(Рубли) + " руб. " + Копейки + " коп.");

// округление
СуммаЗаказа = 25.55;
Результат = Окр(СуммаЗаказа, 1, 1);
//Сообщить(Результат);

// форматирование
Результат = Формат(СуммаЗаказа, "ЧДЦ=2; ЧРД=.; ЧВН=");
//Сообщить(СуммаЗаказа);

// пропись числа
СуммаДокумента = 25785.25;
ПараметрыПредметаИсчисления = "рубль, рубля, рублей, м, копейка, копейки, копеек, ж, 2";
Пропись = ЧислоПрописью(СуммаДокумента,"ДП=Истина",ПараметрыПредметаИсчисления);
Сообщить(Пропись);
```
## 7-2
[Оглавление](#Oglavlenie)
## Встроенные функции для работы с датами
```
// текущая (системная дата)
ТекДата = ТекущаяДата();
//Сообщить(ТекДата);

// приведение к началу/концу периода
НачМесяца = НачалоМесяца(ТекДата);
//Сообщить(НачМесяца);

КонМесяца = КонецМесяца(ТекДата);
//Сообщить(КонМесяца);

КонДня = КонецДня(ТекущаяДата());
//Сообщить(КонДня);

// добавить/отнять месяц
СледующийМесяц = ДобавитьМесяц(ТекДата, 1);
ПредыдущийМесяц = ДобавитьМесяц(ТекДата, -1);

//Сообщить(СледующийМесяц);

// день недели
НомерДня = ДеньНедели(ТекДата);
Сообщить(НомерДня);

// выделение частей даты
День = День(ТекДата);
Месяц = Месяц(ТекДата);
Год = Год(ТекДата);
Текст = "День: " + День + "
		|Месяц: " + Месяц + "
		|Год: " + Формат(Год, "ЧГ=0");;
		
//Сообщить(Текст);

// форматирование 
ДатаФорматированная = Формат(ТекДата, "ДЛФ=DD");
Сообщить(ДатаФорматированная);
```

## 7-3
[Оглавление](#Oglavlenie)
## Встроенные функции для работы со строками
```
ТестоваяСтрока = "красный, желтый, синий";
ДлинаСтроки = СтрДлина(ТестоваяСтрока);
//Сообщить(ДлинаСтроки);
//Сообщить(ТестоваяСтрока);
СтрокаБезПробелов = СокрЛП(ТестоваяСтрока);
//Сообщить(СтрокаБезПробелов);
//Сообщить(СокрЛ(ТестоваяСтрока));
//Сообщить(СокрП(ТестоваяСтрока));

ФИО = "иванов сергей петрович";
Строка1 = Лев(ФИО, 4);
//Сообщить(Строка1);

Строка2 = Прав(ФИО, 5);
//Сообщить(Строка2);

Строка3 = Сред(ФИО, 4, 3);
//Сообщить(Строка3);

//Сообщить(ТРег(ФИО));

Слово1 = "красный";
Слово2 = "Красный";
Если Врег(Слово1) = Врег(Слово2) Тогда
	//Сообщить("Строки равны");
Иначе
	//Сообщить("Строки не равны");
КонецЕсли;

// Поиск строки
СтрокаЦветов = "синий, желтый, белый";
ПозицияЗапятой = СтрНайти(СтрокаЦветов, ",");
//Сообщить(ПозицияЗапятой);
ПервоеСлово = Лев(СтрокаЦветов, ПозицияЗапятой-1);
//Сообщить(ПервоеСлово);

// Замена
СтрокаНовая = СтрЗаменить(СтрокаЦветов, ",", ";");
//Сообщить(СтрокаНовая);
МногострочнаяСтрока = СтрЗаменить(СтрокаЦветов, ",", Символы.ПС);
//Сообщить(МногострочнаяСтрока);

КоличествоСтрок = СтрЧислоСтрок(МногострочнаяСтрока);
Для НомерСтроки = 1 По КоличествоСтрок Цикл
	ТекущаяСтрока = СтрПолучитьСтроку(МногострочнаяСтрока, НомерСтроки);
	//Сообщить(ТекущаяСтрока);
КонецЦикла;

МассивСлов = Новый Массив;
МассивСлов.Добавить("Иванов");
МассивСлов.Добавить("Александр");
МассивСлов.Добавить("Петрович");

ФИО = СтрСоединить(МассивСлов, " ");
Сообщить(ФИО);

// склонение строки
//Результат = ПолучитьСклоненияСтроки(ФИО, , "ПД=Творительный");
//Если Результат.Количество() > 0 Тогда
//	Сообщить(Результат[0]);
//КонецЕсли;
```

# 8. 
# Коллекции.
[Оглавление](#Oglavlenie)

Коллекции - общеее название типов данных , позволяющих работать с наборами значений.

# Массив 
# 8-1 
[Оглавление](#Oglavlenie)

+ Сотруднки = Новый Массив;
Индексация в массиве начинается с 0

+ При удалении элементов массива происходит смещение индексов.
Для корректного удаления элементов массива в цикле, нужно выполнить обход элементов массива с конца, т.е начиная со значения с наибольшим индексом.

 Пример :
```
МассивЧисел = Новый Массив;

// как добавить элементы в массив (в конец)
МассивЧисел.Добавить(5); // 0
МассивЧисел.Добавить(7); // 1
МассивЧисел.Добавить(10); // 2

Для ТекЧисло = 1 По 20 Цикл
	МассивЧисел.Добавить(ТекЧисло);
КонецЦикла;

// как добавить элементы в массив (в нужное место)
МассивЧисел.Вставить(1, 31);

Для каждого ТекЧисло Из МассивЧисел Цикл
	//Сообщить(ТекЧисло);
КонецЦикла;

// получить кол-во элементов
Количество = МассивЧисел.Количество();
//Сообщить(Количество);

// получить индекс последнего значения
ИндексПоследнего = МассивЧисел.ВГраница();
//Сообщить(ИндексПоследнего);

// обращение к значениям массива
//Сообщить(МассивЧисел[0]);
//Сообщить(МассивЧисел[МассивЧисел.ВГраница()]);

// поиск в массиве
ИндексНайденного = МассивЧисел.Найти(78);
Если ИндексНайденного <> Неопределено Тогда
	//Сообщить(ИндексНайденного);
	//Сообщить(МассивЧисел[ИндексНайденного]);
Иначе
	//Сообщить("Число не найдено в массиве");
КонецЕсли;

ПервоеЧисло = МассивЧисел[0];
ПервоеЧисло = МассивЧисел.Получить(0);

// обход массива (цикл по условию)
ТекИндекс = 0;
ПоследнийИндекс = МассивЧисел.ВГраница();
Пока ТекИндекс <= ПоследнийИндекс Цикл
	//Сообщить(МассивЧисел[ТекИндекс]);
	ТекИндекс = ТекИндекс + 1;
КонецЦикла;

// обход массива (цикл по счетчику)
Для ТекИндекс = 0 По ПоследнийИндекс Цикл
	//Сообщить(МассивЧисел[ТекИндекс]);
КонецЦикла;	

// обхода цикла (цикл по коллекции)
Для каждого ТекущееЧисло Из МассивЧисел Цикл
	//Сообщить(ТекущееЧисло);
КонецЦикла;

// Обход Массива в обратом порядке

МассивЧисел = Новый Массив;

Для ТекЧисло = 1 по 50 Цикл
	МассивЧисел.Добавить(ТекЧисло);
КонецЦикла;

Индекс = МассивЧисел.ВГраница();
Пока Индекс >= 0 Цикл
	Сообщить(МассивЧисел[Индекс]);
	Индекс = Индекс - 1;
КонецЦикла;


// удаление
УдаляемоеЧисло = 5;
ИндексЗначения = МассивЧисел.Найти(УдаляемоеЧисло);
Если ИндексЗначения <> Неопределено Тогда
	МассивЧисел.Удалить(ИндексЗначения);
Иначе
	Сообщить("Такого числа в массиве нет");
КонецЕсли;

// очистить массив
//МассивЧисел.Очистить();

// как изменить значение
МассивЧисел[0] = 78;
МассивЧисел.Установить(0, 78);

Для каждого ТекущееЧисло Из МассивЧисел Цикл
	Сообщить(ТекущееЧисло);
КонецЦикла;
```

Пример Смещение индексов

```
МассивЧисел = Новый Массив;

// как добавить элементы в массив (в конец)
МассивЧисел.Добавить(10);
МассивЧисел.Добавить(12);
МассивЧисел.Добавить(7);
МассивЧисел.Добавить(8);
МассивЧисел.Добавить(19);

// НЕПРАВИЛЬНО
//Для каждого Число Из МассивЧисел Цикл
//	Если Число < 10 Тогда
//		Индекс = МассивЧисел.Найти(Число);
//		МассивЧисел.Удалить(Индекс);
//	КонецЕсли;	
//КонецЦикла;          

// ПРАВИЛЬНО (вариант № 1)
//МассивУдаляемых = Новый Массив;
//Для каждого Число Из МассивЧисел Цикл
//	Если Число < 10 Тогда
//		МассивУдаляемых.Добавить(Число);
//	КонецЕсли;	
//КонецЦикла; 

//Для каждого УдаляемоеЧисло Из МассивУдаляемых Цикл
//	Индекс = МассивЧисел.Найти(УдаляемоеЧисло);
//	МассивЧисел.Удалить(Индекс);
//КонецЦикла;

// ПРАВИЛЬНО (вариант № 2)
Индекс = МассивЧисел.ВГраница();
Пока Индекс >= 0 Цикл
	Если МассивЧисел[Индекс] < 10 Тогда
		МассивЧисел.Удалить(Индекс);	
	КонецЕсли;	
    Индекс = Индекс - 1;
КонецЦикла;
```

ТИПОВАЯ ОШИБКА 
```
МассивЧисел = Новый Массив;

МассивЧисел.Добавить(10);
МассивЧисел.Добавить(12);
МассивЧисел.Добавить(7);
МассивЧисел.Добавить(8);
МассивЧисел.Добавить(19);

ИндексПоследнего = МассивЧисел.ВГраница();

Для Индекс = 0 По ИндексПоследнего Цикл
	
	Если МассивЧисел[Индекс] < 10 Тогда
		МассивЧисел.Удалить(Индекс);
	КонецЕсли;
	
КонецЦикла;
```
# Структура
# 8-2 
[Оглавление](#Oglavlenie)

+ Данные сотрудника = Новый Структура;

+ Набор значений с доступом через строковый ключ.

+ Ключ должен удовлетворять требования строкового идентификатора

+ Каждый элемент структуры имеет тип "КлючИЗначение"
 
 Пример:
 ```
ДанныеСотрудника = Новый Структура;
// Добавление элементов в структуру (Способ № 1)
ДанныеСотрудника.Вставить("ФИО", "Петров Максим Иванович");
ДанныеСотрудника.Вставить("ДатаРождения", '19900501');
ДанныеСотрудника.Вставить("Оклад", 100000);

// Добавление элементов в структуру (Способ № 2) - только ключи
//ДанныеСотрудника = Новый Структура("ФИО, ДатаРождения, Оклад");
//ДанныеСотрудника["ФИО"] = "Петров Максим Иванович";
//ДанныеСотрудника["ДатаРождения"] = '19900501';
//ДанныеСотрудника["Оклад"] = 100000;
//
//ДанныеСотрудника.ФИО = "Петров Максим Иванович";
//ДанныеСотрудника.ДатаРождения = '19900501';
//ДанныеСотрудника.Оклад = 100000;

// Добавление элементов в структуру (Способ № 3) - ключи и значения
//ДанныеСотрудника = Новый Структура("ФИО, ДатаРождения, Оклад", 
//									"Петров Максим Иванович",
//									'19900501', 
//									100000);
									
//Сообщить(ДанныеСотрудника.ФИО);									
//Сообщить(ДанныеСотрудника["ФИО"]);									

КоличествоЭлементов = ДанныеСотрудника.Количество();
//Сообщить(КоличествоЭлементов);

// как обойти элементы структуры
Для каждого ЭлементСтруктуры Из ДанныеСотрудника Цикл
	Текст = ЭлементСтруктуры.Ключ + ": " + ЭлементСтруктуры.Значение;
	///Сообщить(Текст);
КонецЦикла;

ДанныеСотрудника.Вставить("Стаж", 10);
// как проверить наличие ключа в структуре
Стаж = Неопределено;
КлючНайден = ДанныеСотрудника.Свойство("Стаж", Стаж);
//Сообщить(Стаж);
Если КлючНайден Тогда
	Стаж = ДанныеСотрудника.Стаж;
	//Сообщить(Стаж);
Иначе
	//Сообщить("В структуре отстуствует стаж");
КонецЕсли;

// Как удалить элемент структуры
ДанныеСотрудника.Удалить("ФИО");
Для каждого ЭлементСтруктуры Из ДанныеСотрудника Цикл
	Текст = ЭлементСтруктуры.Ключ + ": " + ЭлементСтруктуры.Значение;
	Сообщить(Текст);
КонецЦикла;

//ДанныеСотрудника.ФИО = "Маршал Алексей Петрович";
//ДанныеСотрудника["ФИО"] = "Маршал Алексей Петрович";

ДанныеСотрудника.Очистить();

ДанныеРебенка1 = Новый Структура;
ДанныеРебенка1.Вставить("Имя", "Петя");
ДанныеРебенка1.Вставить("Возраст", 10);

ДанныеРебенка2 = Новый Структура;
ДанныеРебенка2.Вставить("Имя", "Маша");
ДанныеРебенка2.Вставить("Возраст", 2);

МассивДетей = Новый Массив;
МассивДетей.Добавить(ДанныеРебенка1);
МассивДетей.Добавить(ДанныеРебенка2);

ДанныеСотрудника.Вставить("Дети", МассивДетей);

ДанныеСотрудника.Вставить("АдресПроживания", "г. Москва");

Сообщить(ДанныеСотрудника.МаркаМашины);
```
# 8-3
[Оглавление](#Oglavlenie)
# Работа с соответствием
+ Дни недели = Новый Соответстиве;
+ Набор значений с доступом через ключ произвольного типа
+ Каждый элемент соответсвия имеет тип "КлючИзначние"

 + Пример :
```
ДниНедели = Новый Соответствие;
// добавление элементов в соответствие
ДниНедели.Вставить('20230911', "понедельник");
ДниНедели.Вставить('20230912', "вторник");
ДниНедели.Вставить('20230913', "среда");
ДниНедели.Вставить('20230914', "четверг");
ДниНедели.Вставить('20230915', "пятница");
ДниНедели.Вставить('20230916', "суббота");
ДниНедели.Вставить('20230917', "воскресенье");

// как получить кол-во
КоличествоЭлементов = ДниНедели.Количество();
Сообщить(КоличествоЭлементов);

// как получить значение из соответствия
Результат = ДниНедели['20230913'];
Результат = ДниНедели.Получить('20230913');

Дата = '20230915';
Сообщить(ДниНедели[Дата]);

ДеньНедели = ДниНедели['20230920'];
Если ДеньНедели = Неопределено Тогда
	Сообщить("Дата не найдена");
Иначе
	Сообщить(ДеньНедели);
КонецЕсли;

// как удалить элемент из соответствия
//ДниНедели.Удалить('20230920');

// как обойти в цикле элементы соответствия
Для каждого ЭлементСоответствия Из ДниНедели Цикл
	Сообщить(Формат(ЭлементСоответствия.Ключ, "ДФ=dd.MM.yyyy") + ": " + ЭлементСоответствия.Значение);
КонецЦикла;

// как очистить соответствие
ДниНедели.Очистить();

// Сообщить(ДниНедели['20230930']);
Для каждого ЭлементСоответствия Из ДниНедели Цикл
	Сообщить(ЭлементСоответствия.Значение);
КонецЦикла;
``` 
# Работа со списком значением.
# 8-4 
[Оглавление](#Oglavlenie)
+ ДниНедели = Новый СписокЗначений;
+ Набор Значений с доступом через числовой индекс 
+ В отличие от других универсальных значений имеет методы для интерактивной работы с наборами значений.

+ Пример Работа со списком значений.


```
ДниНедели = Новый СписокЗначений;

// как добавить элементы в список значений
ДниНедели.Добавить("Пн", "Понедельник", Истина, БиблиотекаКартинок.ВводНаОсновании);
ДниНедели.Добавить("Вт", "Вторник", Ложь, БиблиотекаКартинок.ВложеннаяТаблица);
ДниНедели.Добавить("Ср", "Среда", Истина, БиблиотекаКартинок.ВводНаОсновании);
ДниНедели.Добавить("Чт", "Четверг", Ложь, БиблиотекаКартинок.ВнешнийИсточникДанныхКуб );
ДниНедели.Добавить("Пт", "Пятница", Истина, БиблиотекаКартинок.Выбрать);
ДниНедели.Добавить("Сб", "Суббота", Истина, БиблиотекаКартинок.ДиалогСтоп);
ДниНедели.Добавить("Вс", "Воскресенье", Истина, БиблиотекаКартинок.Документ);
```
+ 0 - Индекс 1- Значени, 2 - Представлени, 3 -Пометка, 4- Картинка 
+ Каждый из них это ЭлемментСписка Значений
```
// как получить кол-во элементов в списке
Количество = ДниНедели.Количество();
//Сообщить(Количество);

// как обратиться
Понедельник = ДниНедели[0];
Понедельник = ДниНедели.Получить(0);
//Сообщить(Понедельник.Значение);

// как искать элемент
НайденныйЭлемент = ДниНедели.НайтиПоЗначению("Ср");
Если НайденныйЭлемент <> Неопределено Тогда
	//Сообщить(НайденныйЭлемент.Значение);
Иначе
	//Сообщить("Элемент не найден");
КонецЕсли;
	
НайденныйЭлемент = ДниНедели.НайтиПоИдентификатору(2);
Если НайденныйЭлемент <> Неопределено Тогда
	//Сообщить(НайденныйЭлемент.Значение);
Иначе
	//Сообщить("Элемент не найден");
КонецЕсли;

ИндексЭлемента = ДниНедели.Индекс(НайденныйЭлемент);
//Сообщить(ИндексЭлемента);
	
// выгрузка значений в массив
МассивЗначений = ДниНедели.ВыгрузитьЗначения();
Для каждого Значение Из МассивЗначений Цикл
	//Сообщить(Значение);
КонецЦикла;

НовыйСписок = Новый СписокЗначений();
НовыйСписок.ЗагрузитьЗначения(МассивЗначений);


// копия списка
Будни = ДниНедели.Скопировать();
Если Будни.Количество() = 7 Тогда
	Будни.Удалить(6);
	Будни.Удалить(5);
КонецЕсли;
Для каждого День Из Будни Цикл
	//Сообщить(День.Представление);
КонецЦикла;

ДниНедели.ЗаполнитьПометки(Истина);

// Показать выбор элемента из списка
//ВыбранныйЭлемент = ДниНедели.ВыбратьЭлемент("Выберите свой выходной");--> Заголовок
//Если ВыбранныйЭлемент <> Неопределено Тогда
//	Сообщить("Вы будете отдыхать в " + ВыбранныйЭлемент.Представление);
//КонецЕсли;

// Показать окно для отметки элементов
ПользовательВыбрал = ДниНедели.ОтметитьЭлементы("Выберите свои выходные");
Если ПользовательВыбрал Тогда
	Для каждого ЭлементСписка ИЗ ДниНедели Цикл
		Если ЭлементСписка.Пометка Тогда
			Сообщить("Вы будете отдыхать в " + ЭлементСписка.Представление);
		КонецЕсли;

	КонецЦикла;
КонецЕсли;
```

# 8-5
Работа с таблицей значений.

[Оглавление](#Oglavlenie)
+ Как создать таблицу значений
Квалификаторы это - настройки для типов данных.
+ 1 (параметр типов) Какой тип 
+ 2 - (параметр числа)
+ 3 - Квалификатор Строк добалаяется отдельно а потом вносится , третьей позиицией (Допустимая длина)
```
ТаблицаТоваров 		= Новый ТаблицаЗначений();
ТипЦена				= Новый Описание типов;
ТипСтрока 			= Новый ОписаниеТипов("Строка" ,, КвалификаторыСтроки);
ТипКоличество 		= Новый ОписаниеТипов("Число", КвалификаторыЧисла);
КвалификаторыСтроки	= Новый КвалификаторыСтроки(100);
КвалификаторыЧисла 	= Новый КвалификаторыЧисла(10, 3);
КвалифиторЦена		= Новый КвалификаторыЧисла(15, 2);
  

ТаблицаТоваров.Колонки.Добавить("Наименование",ТипСтрока );
ТаблицаТоваров.Колонки.Добавить("Артикул",ТипСтрока);
ТаблицаТоваров.Колонки.Добавить("Склад",ТипСтрока);
ТаблицаТоваров.Колонки.Добавить("Количество",ТипКоличество);
ТаблицаТоваров.Колонки.Добавить("Цена",ТипЦена);
```
+ Как добавить строку в таблицу значений
```

СтрокаТаблицы = ТаблицаТоваров.Добавить();
СтрокаТаблицы.Наименование	= "Морковь";
СтрокаТаблицы.Артикул		= "ОВ-11";
СтрокаТаблицы.Склад			= "Магазин № 1";
СтрокаТаблицы.Количество	= 50;
СтрокаТаблицы.Цена			= 44;

СтрокаТаблицы = ТаблицаТоваров.Добавить();
СтрокаТаблицы.Наименование	= "Морковь мытая";
СтрокаТаблицы.Артикул		= "ОВ-12";
СтрокаТаблицы.Склад			= "Магазин № 1";
СтрокаТаблицы.Количество	= 20;
СтрокаТаблицы.Цена			= 60;

СтрокаТаблицы = ТаблицаТоваров.Добавить();
СтрокаТаблицы.Наименование	= "Морковь";
СтрокаТаблицы.Артикул		= "ОВ-11";
СтрокаТаблицы.Склад			= "Магазин № 2";
СтрокаТаблицы.Количество	= 38;
СтрокаТаблицы.Цена			= 44;


СтрокаТаблицы = ТаблицаТоваров.Добавить();
СтрокаТаблицы.Наименование	= "Помидоры";
СтрокаТаблицы.Артикул		= "ОВ-7";
СтрокаТаблицы.Склад			= "Магазин № 1";
СтрокаТаблицы.Количество	= 34;
СтрокаТаблицы.Цена			= 250;

СтрокаТаблицы = ТаблицаТоваров.Добавить();
СтрокаТаблицы.Наименование	= "Бананы";
СтрокаТаблицы.Артикул		= "ФР-1";
СтрокаТаблицы.Склад			= "Магазин № 1";
СтрокаТаблицы.Количество	= 115;
СтрокаТаблицы.Цена			= 100;

СтрокаТаблицы = ТаблицаТоваров.Добавить();
СтрокаТаблицы.Наименование	= "Бананы";
СтрокаТаблицы.Артикул		= "ФР-1";
СтрокаТаблицы.Склад			= "Магазин № 2";
СтрокаТаблицы.Количество	= 78;
СтрокаТаблицы.Цена			= 99;

СтрокаТаблицы = ТаблицаТоваров.Добавить();
СтрокаТаблицы.Наименование	= "Апельсины";
СтрокаТаблицы.Артикул		= "ФР-2";
СтрокаТаблицы.Склад			= "Магазин № 1";
СтрокаТаблицы.Количество	= 15;
СтрокаТаблицы.Цена			= 150;
```
+ Как получить количество строк в таблице значений
```
КоличествоСтрок = ТаблицаТоваров.Количество();
Сообщить(КоличествоСтрок);
```
+ Как найти одну или несколько строк в таблице значений
```
НайденнаяСтрока = ТаблицаТоваров.Найти("ОВ-12", "Артикул");
Если НайденнаяСтрока <> Неопределено Тогда
	Сообщить(НайденнаяСтрока.Наименование + " , цена " + НайденнаяСтрока.Цена);
Иначе
	//Сообщить("Товар с артикулом ОВ-12 не найден в таблице");
КонецЕсли;

СтруктураПоиска = Новый Структура;
СтруктураПоиска.Вставить("Наименование", "Морковь");

МассивСтрок = ТаблицаТоваров.НайтиСтроки(СтруктураПоиска);
```
 
+ пример проверки результата поиска
```
Если МассивСтрок.Количество() = 0 Тогда
	//Сообщить("Не найдены строки, удовлетворяющие условиям поиска");
КонецЕсли;

Для каждого СтрокаТаблицы Из МассивСтрок Цикл
	//Сообщить(СтрокаТаблицы.Наименование + ", склад: " + СтрокаТаблицы.Склад + ", количество: " + СтрокаТаблицы.Количество);
КонецЦикла;
```

+ поиск товара "Морковь" на складе "Магазин № 2";
```
СтруктураПоиска = Новый Структура;
СтруктураПоиска.Вставить("Наименование", "Морковь");
СтруктураПоиска.Вставить("Склад", "Магазин № 2");

МассивСтрок = ТаблицаТоваров.НайтиСтроки(СтруктураПоиска);
Для каждого СтрокаТаблицы Из МассивСтрок Цикл
	Шаблон = СтрШаблон("%1, склад: %2, количество: %3", 
					СтрокаТаблицы.Наименование, СтрокаТаблицы.Склад, СтрокаТаблицы.Количество);
	Сообщить(Шаблон);
	//Сообщить(СтрокаТаблицы.Наименование + ", склад: " + СтрокаТаблицы.Склад + ", количество: " + СтрокаТаблицы.Количество);
КонецЦикла;

Если МассивСтрок.Количество() > 0 Тогда
	Сообщить("остаток товара на складе: " + МассивСтрок[0].Количество);
КонецЕсли;
```
+ Как удалить одну или несколько строк из таблицы значений
```
ТаблицаТоваров.Удалить(0);

// удалить строки по товару "Морковь"
СтруктураПоиска = Новый Структура;
СтруктураПоиска.Вставить("Наименование", "Морковь");
МассивСтрок = ТаблицаТоваров.НайтиСтроки(СтруктураПоиска);

Для каждого СтрокаТаблицы ИЗ МассивСтрок Цикл
	//ТаблицаТоваров.Удалить(СтрокаТаблицы);
КонецЦикла;

//ТаблицаТоваров.ВыбратьСтроку();
```
 + Как скопировать таблицу значений (вместе с данными в ней)
 ```
КопияТаблицы = ТаблицаТоваров.Скопировать();
```

+ копия таблицы с переносом строк только по товару "Морковь"
```
// вариант 1
СтруктураПоиска = Новый Структура;
СтруктураПоиска.Вставить("Наименование", "Морковь");
МассивСтрок = ТаблицаТоваров.НайтиСтроки(СтруктураПоиска);
КопияТолькоМорковь = ТаблицаТоваров.Скопировать(МассивСтрок);

// вариант 2
СтруктураОтбора = Новый Структура;
СтруктураОтбора.Вставить("Наименование", "Морковь");
КопияТолькоМорковь = ТаблицаТоваров.Скопировать(СтруктураОтбора, "Наименование, Количество, Цена");
```

+ Как скопировать только колонки таблицы значений
```
КопияТолькоКолонки = ТаблицаТоваров.СкопироватьКолонки();
```
+ Как отсортировать таблицу значений
```
ТаблицаТоваров.Сортировать("Цена Убыв");
ТаблицаТоваров.Сортировать("Количество, Цена Убыв");
```
+ Как получить итог по колонке в таблице значений
```
ИтогоКоличество = ТаблицаТоваров.Итог("Количество");
//Сообщить(ИтогоКоличество);
```
+ Как свернуть таблицу значений
```
КопияТаблицы = ТаблицаТоваров.Скопировать();
КопияТаблицы.Свернуть("Наименование", "Количество");
//КопияТаблицы.ВыбратьСтроку();
```


+ Как обойти в цикле все строки таблицы значений
```
//ТаблицаТоваров.ВыбратьСтроку();

Для каждого СтрокаТаблицы Из ТаблицаТоваров Цикл
	СтрокаТаблицы.Цена = СтрокаТаблицы.Цена * 1.1;
КонецЦикла;
```
+ Как заполнить во всех строках колонку одинаковым значением
```
ТаблицаТоваров.Колонки.Добавить("Заказ", ТипКоличество);
ТаблицаТоваров.ЗаполнитьЗначения(1, "Заказ"); --> заполняется вся колонка одним значением.
```

+ Как выгрузить все значения из колонки в массив если значения в колонке уникальны
```
МассивВсехНаименований = ТаблицаТоваров.ВыгрузитьКолонку("Наименование");
```
+ если значения в колонке могут повторяться
```
МассивУникальныхНаименований = Новый Массив;
Для каждого СтрокаТаблицы Из ТаблицаТоваров Цикл
	Если МассивУникальныхНаименований.Найти(СтрокаТаблицы.Наименование) = Неопределено Тогда
		МассивУникальныхНаименований.Добавить(СтрокаТаблицы.Наименование);
	КонецЕсли;
КонецЦикла;
```
+ как удалить все строки из таблицы
```
ТаблицаТоваров.Очистить();

Для каждого Колонка Из ТаблицаТоваров.Колонки Цикл
	Сообщить(Колонка.Имя);	
КонецЦикла;

ТаблицаТоваров.ВыбратьСтроку();
```

# 8-6
Дерево значений.

[Оглавление](#Oglavlenie)
Коллекция, которая предназначена для хранения дынных в виде древовидной структуры. К строке дерева можно добавлять подчиненные строки.

Общая схема создания: 
```
ДеревоСотрудников = Новый ДеревоЗначений;

ДеревоСотрудников.Колонки.Добавить("Подразделение");
ДеревоСотрудников.Колонки.Добавить("ФИО");
ДеревоСотрудников.Колонки.Добавить("ДатаРождения");


// Строка 1-го уровня
СтрокаДерева = ДеревоСотрудников.Строки.Добавить();
СтрокаДерева.Подразделение = "Бухгалтерия";

// Строка 2-го уровня
СтрокаДерева2 = СтрокаДерева1.Строки.Добавить();
СтрокаДерева2.Подразделение = "Бухгалтерия";
СтрокаДерева2.ФИО = "Иванов";
СтрокаДерева2.ДатаРождения= "19900101";
```

+  Как создать дерево значений
```
ДеревоТоваров = Новый ДеревоЗначений;
```
+  Как добавить колонки в дерево значений, как добавить колонки в таблицу значений

```
КвалификаторыСтроки	= Новый КвалификаторыСтроки(100);
ТипСтрока			= Новый ОписаниеТипов("Строка",, КвалификаторыСтроки);
ТипКоличество		= Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(10, 3));
ТипЦена				= Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(15, 2));

ДеревоТоваров.Колонки.Добавить("Категория", ТипСтрока);
ДеревоТоваров.Колонки.Добавить("Наименование", ТипСтрока);
ДеревоТоваров.Колонки.Добавить("Артикул", ТипСтрока);
ДеревоТоваров.Колонки.Добавить("Склад", ТипСтрока);
ДеревоТоваров.Колонки.Добавить("Количество", ТипКоличество);
ДеревоТоваров.Колонки.Добавить("Цена", ТипЦена);
```

+  Как добавить строку в дерево значений
```
СтрокаКатегории = ДеревоТоваров.Строки.Добавить();
СтрокаКатегории.Категория = "Овощи";

СтрокаДерева = СтрокаКатегории.Строки.Добавить();
СтрокаДерева.Наименование	= "Морковь";
СтрокаДерева.Артикул		= "ОВ-11";
СтрокаДерева.Склад			= "Магазин № 1";
СтрокаДерева.Количество		= 50;
СтрокаДерева.Цена			= 44;

СтрокаДерева = СтрокаКатегории.Строки.Добавить();
СтрокаДерева.Наименование	= "Морковь мытая";
СтрокаДерева.Артикул		= "ОВ-12";
СтрокаДерева.Склад			= "Магазин № 1";
СтрокаДерева.Количество		= 20;
СтрокаДерева.Цена			= 60;

СтрокаДерева = СтрокаКатегории.Строки.Добавить();
СтрокаДерева.Наименование	= "Морковь";
СтрокаДерева.Артикул		= "ОВ-11";
СтрокаДерева.Склад			= "Магазин № 2";
СтрокаДерева.Количество		= 38;
СтрокаДерева.Цена			= 44;

СтрокаДерева = СтрокаКатегории.Строки.Добавить();
СтрокаДерева.Наименование	= "Помидоры";
СтрокаДерева.Артикул		= "ОВ-7";
СтрокаДерева.Склад			= "Магазин № 1";
СтрокаДерева.Количество	= 34;
СтрокаДерева.Цена			= 250;

СтрокаКатегории = ДеревоТоваров.Строки.Добавить();
СтрокаКатегории.Категория = "Фрукты";

СтрокаДерева = СтрокаКатегории.Строки.Добавить();
СтрокаДерева.Наименование	= "Бананы";
СтрокаДерева.Артикул		= "ФР-1";
СтрокаДерева.Склад			= "Магазин № 1";
СтрокаДерева.Количество	= 115;
СтрокаДерева.Цена			= 100;

СтрокаДерева = СтрокаКатегории.Строки.Добавить();
СтрокаДерева.Наименование	= "Бананы";
СтрокаДерева.Артикул		= "ФР-1";
СтрокаДерева.Склад			= "Магазин № 2";
СтрокаДерева.Количество	= 78;
СтрокаДерева.Цена			= 99;

СтрокаДерева = СтрокаКатегории.Строки.Добавить();
СтрокаДерева.Наименование	= "Апельсины";
СтрокаДерева.Артикул		= "ФР-2";
СтрокаДерева.Склад			= "Магазин № 1";
СтрокаДерева.Количество	= 15;
СтрокаДерева.Цена			= 150;
```

+ Как получить количество строк в дереве значений
```
КоличествоСтрок = ДеревоТоваров.Строки.Количество();
//Сообщить(КоличествоСтрок);

```
+ Как найти одну или несколько строк в дереве значений
```
// Найти один товар по артикулу
СтрокаТовара = ДеревоТоваров.Строки.Найти("ОВ-12", "Артикул", Истина);
Если СтрокаТовара <> Неопределено Тогда
	//Сообщить(СтрокаТовара.Наименование + ", количество " + СтрокаТовара.Количество);
Иначе
	Сообщить("Товар не найден");
КонецЕсли;
```
+  найти все товары с наименованием "Морковь"
```
СтрукутруПоиска = Новый Структура;
СтрукутруПоиска.Вставить("Наименование", "Морковь");
МассивСтрок = ДеревоТоваров.Строки.НайтиСтроки(СтрукутруПоиска, Истина);
Для каждого СтрокаДерева Из МассивСтрок Цикл
	//Сообщить(СтрокаДерева.Наименование + ", склад: " + СтрокаДерева.Склад);
КонецЦикла;
```
+  Как удалить одну или несколько строк из дерева значенийудаление строки верхнего уровня (УДАЛЯЮТСЯ ВСЕ ПОДЧИНЕННЫЕ)
```
//ДеревоТоваров.Строки.Удалить(0);

СтрукутруПоиска = Новый Структура;
СтрукутруПоиска.Вставить("Наименование", "Морковь");
МассивСтрок = ДеревоТоваров.Строки.НайтиСтроки(СтрукутруПоиска, Истина);
Для каждого Строка Из МассивСтрок Цикл
	
	Если Строка.Родитель = Неопределено Тогда
		//ДеревоТоваров.Строки.Удалить(Строка);
	Иначе
		//Строка.Родитель.Строки.Удалить(Строка);
	КонецЕсли;
		
КонецЦикла;
```
+ Как скопировать дерево значений (вместе с данными в нем)
```
ПолнаяКопияДерева = ДеревоТоваров.Скопировать();
```
+ Как отсортировать строки в дереве значений
``` Сортировка в пределах уровня
СтрокаКатегории = ДеревоТоваров.Строки.Найти("Овощи", "Категория");
Если СтрокаКатегории <> Неопределено Тогда
	СтрокаКатегории.Строки.Сортировать("Цена Убыв");
Иначе
	Сообщить("Строка не найдена");	
КонецЕсли;
```
+ Сортировать в пределах всего дерева
```
ДеревоТоваров.Строки.Сортировать("Цена Убыв", Истина);

ДеревоТоваров.Строки.Сортировать("Категория Убыв");
ДеревоТоваров.ВыбратьСтроку();
```
+ Как получить итог по колонке в дереве значений
+ получить общее количество товаров в категории "Овощи"
```
СтрокаКатегории = ДеревоТоваров.Строки.Найти("Овощи", "Категория");
Если СтрокаКатегории <> Неопределено Тогда
	ИтогоКоличество = СтрокаКатегории.Строки.Итог("Количество");
	//Сообщить("Общее количество товаров в категории ""Овощи"" равно " + ИтогоКоличество);
Иначе
	//Сообщить("Строка не найдена");	
КонецЕсли;
```
+ получить общее количество товаров во всех категория
```
ИтогоКоличество = ДеревоТоваров.Строки.Итог("Количество", Истина);
//Сообщить("Общее количество товаров во всех категориях равно " + ИтогоКоличество);

//ДеревоТоваров.ВыбратьСтроку();
```
+ Как обойти в цикле строки дерева значений
```
Для каждого СтрокаДерева Из ДеревоТоваров.Строки Цикл
	
	Сообщить(СтрокаДерева.Категория);
	
	Для каждого СтрокаТовара Из СтрокаДерева.Строки Цикл
		Сообщить("--" + СтрокаТовара.Наименование + ", " + СтрокаТовара.Цена);	
	КонецЦикла;
	
КонецЦикла;
```
# 8-7

[Оглавление](#Oglavlenie)
# Рекурсия 
+ Рекурсия - это вычислительный процесс направленнй на решени 
определенной задачи таким образом, что само решение использует этот же процесс, решающий аналогичную подзадачу.

+ Для обхода строк деерва с произвольным количесвтом уровней используется рекурсивный алгоритм.

```
&НаСервере
Процедура РаботаСДеревомЗначений()
	
	ДеревоТоваров = Новый ДеревоЗначений;
	
	КвалификаторыСтроки	= Новый КвалификаторыСтроки(100);
	ТипСтрока			= Новый ОписаниеТипов("Строка",, КвалификаторыСтроки);
	ТипКоличество		= Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(10, 3));
	ТипЦена				= Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(15, 2));
	
	ДеревоТоваров.Колонки.Добавить("Категория", ТипСтрока);
	ДеревоТоваров.Колонки.Добавить("Наименование", ТипСтрока);
	ДеревоТоваров.Колонки.Добавить("Артикул", ТипСтрока);
	ДеревоТоваров.Колонки.Добавить("Склад", ТипСтрока);
	ДеревоТоваров.Колонки.Добавить("Количество", ТипКоличество);
	ДеревоТоваров.Колонки.Добавить("Цена", ТипЦена);
	
	СтрокаКатегории = ДеревоТоваров.Строки.Добавить();
	СтрокаКатегории.Категория = "Овощи";
	
	СтрокаДерева = СтрокаКатегории.Строки.Добавить();
	СтрокаДерева.Наименование	= "Морковь";
	СтрокаДерева.Артикул		= "ОВ-11";
	СтрокаДерева.Склад			= "Магазин № 1";
	СтрокаДерева.Количество		= 50;
	СтрокаДерева.Цена			= 44;
	
	СтрокаДерева = СтрокаКатегории.Строки.Добавить();
	СтрокаДерева.Наименование	= "Морковь мытая";
	СтрокаДерева.Артикул		= "ОВ-12";
	СтрокаДерева.Склад			= "Магазин № 1";
	СтрокаДерева.Количество		= 20;
	СтрокаДерева.Цена			= 60;
	
	СтрокаДерева = СтрокаКатегории.Строки.Добавить();
	СтрокаДерева.Наименование	= "Морковь";
	СтрокаДерева.Артикул		= "ОВ-11";
	СтрокаДерева.Склад			= "Магазин № 2";
	СтрокаДерева.Количество		= 38;
	СтрокаДерева.Цена			= 44;
	
	СтрокаДерева = СтрокаКатегории.Строки.Добавить();
	СтрокаДерева.Наименование	= "Помидоры";
	СтрокаДерева.Артикул		= "ОВ-7";
	СтрокаДерева.Склад			= "Магазин № 1";
	СтрокаДерева.Количество	= 34;
	СтрокаДерева.Цена			= 250;
	
	СтрокаКатегории = ДеревоТоваров.Строки.Добавить();
	СтрокаКатегории.Категория = "Фрукты";
	
	СтрокаДерева = СтрокаКатегории.Строки.Добавить();
	СтрокаДерева.Наименование	= "Бананы";
	СтрокаДерева.Артикул		= "ФР-1";
	СтрокаДерева.Склад			= "Магазин № 1";
	СтрокаДерева.Количество	= 115;
	СтрокаДерева.Цена			= 100;
	
	СтрокаДерева = СтрокаКатегории.Строки.Добавить();
	СтрокаДерева.Наименование	= "Бананы";
	СтрокаДерева.Артикул		= "ФР-1";
	СтрокаДерева.Склад			= "Магазин № 2";
	СтрокаДерева.Количество	= 78;
	СтрокаДерева.Цена			= 99;
	
	СтрокаДерева = СтрокаКатегории.Строки.Добавить();
	СтрокаДерева.Наименование	= "Апельсины";
	СтрокаДерева.Артикул		= "ФР-2";
	СтрокаДерева.Склад			= "Магазин № 1";
	СтрокаДерева.Количество	= 15;
	СтрокаДерева.Цена			= 150;
	
	// рекурсивный обход дерева
	ОбходСтрокДереваРекурсивно(ДеревоТоваров.Строки);
	
КонецПроцедуры

&НаСервере
Процедура ОбходСтрокДереваРекурсивно(КоллекцияСтрок)
	
	Если КоллекцияСтрок.Количество() = 0 Тогда
		Возврат;
	КонецЕсли;
	
	Для каждого СтрокаДерева Из КоллекцияСтрок Цикл
		
		Если СтрокаДерева.Родитель = Неопределено Тогда
			Сообщить(СтрокаДерева.Категория);
		Иначе
			Сообщить("--" + СтрокаДерева.Наименование + ", " + СтрокаДерева.Цена);
		КонецЕсли;
		
		ОбходСтрокДереваРекурсивно(СтрокаДерева.Строки);
		
	КонецЦикла; 

КонецПроцедуры 
```